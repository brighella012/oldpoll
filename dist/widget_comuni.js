"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Widget=function(){var e={goToDetail:function(e){e&&(location.href=e)}};function c(r,i){for(var a,n,o,p,s,l,c,d,u=i.regione,m=(i.each_value,i.regione_index,u.ente.name),e=u.formattedFigures,h=[],t=0;t<e.length;t+=1)h[t]=v(r,x(x({},i),{each_value_1:e,lista:e[t],index:t}));var f=u.sezioni&&b(r,i);return{c:function(){a=T("div"),n=T("div"),o=T("h3"),p=D(m),s=D("\r\n                     "),l=T("div");for(var e=0;e<h.length;e+=1)h[e].c();c=D("\r\n                  "),f&&f.c(),this.h()},h:function(){var e,t;o.className="ep-comuni-title",C(o,"border-bottom","3px solid #ddd"),l.className="list-wrapper",n.className="flex-wrapper",e="click",t=g,a.addEventListener(e,t,!1),a.className=d="ep-comuni-box "+(u.url?"clickable":""),a._svelte={component:r,each_value:i.each_value,regione_index:i.regione_index}},m:function(e,t){L(a,e,t),P(n,a),P(o,n),P(p,o),P(s,n),P(l,n);for(var i=0;i<h.length;i+=1)h[i].m(l,null);P(c,a),f&&f.m(a,null)},p:function(e,t){u=t.regione,t.each_value,t.regione_index,e.regioni&&m!==(m=u.ente.name)&&(p.data=m);var i=u.formattedFigures;if(e.regioni||e.limit){for(var n=0;n<i.length;n+=1){var o=x(x({},t),{each_value_1:i,lista:i[n],index:n});h[n]?h[n].p(e,o):(h[n]=v(r,o),h[n].c(),h[n].m(l,null))}for(;n<h.length;n+=1)h[n].u(),h[n].d();h.length=i.length}u.sezioni?f?f.p(e,t):((f=b(r,t)).c(),f.m(a,null)):f&&(f.u(),f.d(),f=null),e.regioni&&d!==(d="ep-comuni-box "+(u.url?"clickable":""))&&(a.className=d),a._svelte.each_value=t.each_value,a._svelte.regione_index=t.regione_index},u:function(){B(a);for(var e=0;e<h.length;e+=1)h[e].u();f&&f.u()},d:function(){var e,t;j(h),f&&f.d(),e="click",t=g,a.removeEventListener(e,t,!1)}}}function v(i,e){e.regione,e.each_value,e.regione_index;var n,o,r,a,p,s,l,c,d,u,m,h,f,v,b,g,x=e.lista,j=(e.each_value_1,e.index),w=x.perc,_=x.name,q=x.surname,y=x.coalizione,k=x.perc2&&N(i,e),z=j<e.limit-1&&S(i,e);return{c:function(){n=T("div"),o=T("div"),r=D("\r\n                           "),a=T("div"),p=D(w),k&&k.c(),s=D("%"),l=D("\r\n                           "),c=T("h4"),d=D(_),u=D(" "),m=D(q),h=D("\r\n                           "),f=T("h5"),v=D(y),b=D("\r\n                        "),z&&z.c(),g=document.createComment(""),this.h()},h:function(){o.className="img-wrapper",C(o,"background-image","url("+x.picture+")"),C(o,"color",x.color),a.className="perc",n.className="list"},m:function(e,t){L(n,e,t),P(o,n),P(r,n),P(a,n),P(p,a),k&&k.m(a,null),P(s,a),P(l,n),P(c,n),P(d,c),P(u,c),P(m,c),P(h,n),P(f,n),P(v,f),L(b,e,t),z&&z.m(e,t),L(g,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,x=t.lista,t.each_value_1,j=t.index,e.regioni&&(C(o,"background-image","url("+x.picture+")"),C(o,"color",x.color)),e.regioni&&w!==(w=x.perc)&&(p.data=w),x.perc2?k?k.p(e,t):((k=N(i,t)).c(),k.m(a,s)):k&&(k.u(),k.d(),k=null),e.regioni&&_!==(_=x.name)&&(d.data=_),e.regioni&&q!==(q=x.surname)&&(m.data=q),e.regioni&&y!==(y=x.coalizione)&&(v.data=y),j<t.limit-1?z||((z=S(i,t)).c(),z.m(g.parentNode,g)):z&&(z.u(),z.d(),z=null)},u:function(){B(n),k&&k.u(),B(b),z&&z.u(),B(g)},d:function(){k&&k.d(),z&&z.d()}}}function N(e,t){t.regione,t.each_value,t.regione_index;var i,n,o=t.lista,r=(t.each_value_1,t.index,o.perc2);return{c:function(){i=D("-"),n=D(r)},m:function(e,t){L(i,e,t),L(n,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,o=t.lista,t.each_value_1,t.index,e.regioni&&r!==(r=o.perc2)&&(n.data=r)},u:function(){B(i),B(n)},d:u}}function S(e,t){var i;t.regione,t.each_value,t.regione_index,t.lista,t.each_value_1,t.index;return{c:function(){i=T("span"),this.h()},h:function(){i.className="data-display-separator"},m:function(e,t){L(i,e,t)},p:function(e,t){t.regione,t.each_value,t.regione_index,t.lista,t.each_value_1,t.index},u:function(){B(i)},d:u}}function b(e,t){var i,n,o,r,a,p=t.regione,s=(t.each_value,t.regione_index,p.sezioni.corrente),l=p.sezioni.totali;return{c:function(){i=T("small"),n=D("Sezioni "),o=D(s),r=D(" su "),a=D(l),this.h()},h:function(){i.className="data-source"},m:function(e,t){L(i,e,t),P(n,i),P(o,i),P(r,i),P(a,i)},p:function(e,t){p=t.regione,t.each_value,t.regione_index,e.regioni&&s!==(s=p.sezioni.corrente)&&(o.data=s),e.regioni&&l!==(l=p.sezioni.totali)&&(a.data=l)},u:function(){B(i)},d:u}}function d(e,t){var i,n;return{c:function(){i=T("small"),n=D(t.dataSource),this.h()},h:function(){i.className="data-source"},m:function(e,t){L(i,e,t),P(n,i)},p:function(e,t){e.dataSource&&(n.data=t.dataSource)},u:function(){B(i)},d:u}}function g(e){var t=this._svelte.component,i=this._svelte.each_value[this._svelte.regione_index];t.goToDetail(i.url)}function t(e){var t,i,n;i=e,(t=this)._handlers=Object.create(null),t._bind=i._bind,t.options=i,t.root=i.root||t,t.store=t.root.store||i.store,this.refs={},this._state=x({},e.data),this._recompute({entiData:1,configList:1,limit:1,imagePath:1},this._state),document.getElementById("svelte-1q9pbjp-style")||((n=T("style")).id="svelte-1q9pbjp-style",n.textContent=".svelte-1q9pbjp.ep-comuni-wrapper,.svelte-1q9pbjp .ep-comuni-wrapper{visibility:hidden;max-height:300px}.svelte-1q9pbjp.ep-comuni-wrapper.slick-initialized,.svelte-1q9pbjp .ep-comuni-wrapper.slick-initialized{visibility:visible;max-height:inherit}.svelte-1q9pbjp.ep-comuni,.svelte-1q9pbjp .ep-comuni{font-family:'Playfair Display', serif;position:relative;border-bottom:3px solid #ddd;padding-bottom:1em;margin-bottom:1em}.svelte-1q9pbjp.ep-more-lists,.svelte-1q9pbjp .ep-more-lists{display:flex;justify-content:space-between;flex-wrap:wrap;position:relative}.svelte-1q9pbjp.data-display,.svelte-1q9pbjp .data-display{display:flex;justify-content:space-evenly;flex-direction:column;position:relative;padding:.5em .3em}.svelte-1q9pbjp.data-display-separator,.svelte-1q9pbjp .data-display-separator{width:2px;height:2em;top:3px;background:#ddd;position:relative;align-self:center}.svelte-1q9pbjp.ep-comuni-wrapper .slick-slide,.svelte-1q9pbjp .ep-comuni-wrapper .slick-slide{margin:0 10px;border:1px solid #ddd;min-height:220px}.svelte-1q9pbjp.ep-comuni-wrapper .slick-arrow,.svelte-1q9pbjp .ep-comuni-wrapper .slick-arrow{position:absolute;top:50%;border:0;box-shadow:none;cursor:pointer;z-index:1;background:rgba(0,0,0, 0.5);width:25px}.svelte-1q9pbjp.ep-comuni-wrapper .slick-next,.svelte-1q9pbjp .ep-comuni-wrapper .slick-next{right:0}.svelte-1q9pbjp.ep-comuni-wrapper .slick-prev,.svelte-1q9pbjp .ep-comuni-wrapper .slick-prev{left:0}.svelte-1q9pbjp.ep-comuni-wrapper .slick-prev:after,.svelte-1q9pbjp .ep-comuni-wrapper .slick-prev:after{content:\"\\00AB\";color:white;font-size:25px}.svelte-1q9pbjp.ep-comuni-wrapper .slick-next:before,.svelte-1q9pbjp .ep-comuni-wrapper .slick-next:before{content:\"\\00BB\";color:white;font-size:25px}.svelte-1q9pbjp.ep-comuni-wrapper .slick-arrow.slick-disabled,.svelte-1q9pbjp .ep-comuni-wrapper .slick-arrow.slick-disabled{display:none}.svelte-1q9pbjp.percent-wrapper,.svelte-1q9pbjp .percent-wrapper{text-align:center}.svelte-1q9pbjp.logo-wrapper,.svelte-1q9pbjp .logo-wrapper{display:flex;justify-content:center;padding:.2em}.svelte-1q9pbjp.coalition-logo,.svelte-1q9pbjp .coalition-logo{width:35px;height:35px;background-color:#efefef;display:inline-block;border-radius:50%;margin:4px;border:1px solid #ddd;background-size:cover;background-position:center;background-repeat:no-repeat}h3.svelte-1q9pbjp.ep-coalition-title,.svelte-1q9pbjp h3.ep-coalition-title{text-align:center;margin:0;padding:.4em;background:#ddd;font-size:1em;text-transform:uppercase;background:#efefef}.svelte-1q9pbjp.ep-horizontal-bar-table,.svelte-1q9pbjp .ep-horizontal-bar-table{width:100%;font-size:.8em;box-sizing:border-box;padding:.5em .2em}.svelte-1q9pbjp.ep-horizontal-bar-table td,.svelte-1q9pbjp .ep-horizontal-bar-table td{border-bottom:1px solid #ddd;padding:.1em}.svelte-1q9pbjp.ep-horizontal-bar-graph,.svelte-1q9pbjp .ep-horizontal-bar-graph{position:relative}.svelte-1q9pbjp.graph,.svelte-1q9pbjp .graph{height:12px;overflow:visible}.svelte-1q9pbjp.graph > span,.svelte-1q9pbjp .graph > span{position:absolute;right:0}.svelte-1q9pbjp.ep-horizontal-bar-list,.svelte-1q9pbjp .ep-horizontal-bar-list{width:1%;white-space:nowrap;text-align:right}.svelte-1q9pbjp.percent,.svelte-1q9pbjp .percent{font-size:1.8em;text-align:center;line-height:1}.svelte-1q9pbjp.percent small,.svelte-1q9pbjp .percent small{display:block;font-size:.4em;line-height:1;color:#999}.svelte-1q9pbjp.data-source,.svelte-1q9pbjp .data-source{display:block;text-align:right;font-size:.8em;color:#999;font-family:'TT Norms Pro Regular', sans-serif;padding:.5em}@media screen and (max-width:610px){.svelte-1q9pbjp.coalition-logo,.svelte-1q9pbjp .coalition-logo{idth:30px;height:30px}.svelte-1q9pbjp.bar-wrapper,.svelte-1q9pbjp .bar-wrapper{display:none}}@media(max-width:700px){.svelte-1q9pbjp.data-display,.svelte-1q9pbjp .data-display{flex-direction:column}.svelte-1q9pbjp.data-display-separator,.svelte-1q9pbjp .data-display-separator{display:none}}.svelte-1q9pbjp.ep-comuni,.svelte-1q9pbjp .ep-comuni{font-family:'Playfair Display', serif;position:relative;border-bottom:3px solid #ddd;padding-bottom:1em;margin-bottom:1em}.svelte-1q9pbjp.ep-comuni-wrapper,.svelte-1q9pbjp .ep-comuni-wrapper,.svelte-1q9pbjp.ep-more-lists,.svelte-1q9pbjp .ep-more-lists{display:flex;justify-content:space-between;flex-wrap:wrap;position:relative}.svelte-1q9pbjp.ep-comuni-mobile-nav,.svelte-1q9pbjp .ep-comuni-mobile-nav{display:none}.svelte-1q9pbjp.ep-comuni-box,.svelte-1q9pbjp .ep-comuni-box{box-sizing:border-box;background:#f9f9f9}.svelte-1q9pbjp.clickable,.svelte-1q9pbjp .clickable{cursor:pointer}.svelte-1q9pbjp.data-display-separator,.svelte-1q9pbjp .data-display-separator{width:2px;height:8em;top:3px;background:#ddd;position:relative;align-self:center}h3.svelte-1q9pbjp.ep-comuni-title,.svelte-1q9pbjp h3.ep-comuni-title{text-align:center;margin:0;padding:.4em;background:#ddd;font-size:20px;text-transform:uppercase;font-weight:bold;font-family:'TT Norms Pro Bold', sans-serif;background:#efefef}.svelte-1q9pbjp.ep-comuni-title a,.svelte-1q9pbjp .ep-comuni-title a{color:inherit}.svelte-1q9pbjp.data-source,.svelte-1q9pbjp .data-source{display:block;text-align:right;font-size:.8em;color:#999;font-family:'TT Norms Pro Regular', sans-serif;padding:.5em}.svelte-1q9pbjp.list-wrapper,.svelte-1q9pbjp .list-wrapper{display:flex;justify-content:space-around;text-align:center;padding:.2em 0}.svelte-1q9pbjp.list,.svelte-1q9pbjp .list{text-align:center;padding:0 10px;min-height:180px;width:50%}.svelte-1q9pbjp.list h4,.svelte-1q9pbjp .list h4,.svelte-1q9pbjp.list h5,.svelte-1q9pbjp .list h5{margin:0;font-family:'TT Norms Pro Regular', sans-serif;font-size:17px}.svelte-1q9pbjp.list h5,.svelte-1q9pbjp .list h5{color:#999;font-size:16px}.svelte-1q9pbjp.list .perc,.svelte-1q9pbjp .list .perc{font-size:20px;color:#8E0000;font-weight:bold;margin-bottom:10px}.svelte-1q9pbjp.img-wrapper,.svelte-1q9pbjp .img-wrapper{background-color:#ddd;width:70px;height:70px;border-radius:50%;margin:.5em auto;border:5px solid;box-shadow:-5px -7px 7px -6px #444 inset;background-position:center;background-size:cover}@media screen and (max-width:1024px){.svelte-1q9pbjp.ep-comuni-wrapper .slick-arrow,.svelte-1q9pbjp .ep-comuni-wrapper .slick-arrow{display:none !important}}@media screen and (max-width:820px){.svelte-1q9pbjp.ep-comuni-box,.svelte-1q9pbjp .ep-comuni-box{flex:0 1 48%;min-width:48%}}@media screen and (max-width:610px){.svelte-1q9pbjp.ep-comuni-wrapper,.svelte-1q9pbjp .ep-comuni-wrapper{flex-wrap:nowrap;overflow:auto}.svelte-1q9pbjp.ep-comuni-box,.svelte-1q9pbjp .ep-comuni-box{min-width:47%}.svelte-1q9pbjp.coalition-logo,.svelte-1q9pbjp .coalition-logo{idth:30px;height:30px}.svelte-1q9pbjp.bar-wrapper,.svelte-1q9pbjp .bar-wrapper{display:none}}@media(max-width:700px){.svelte-1q9pbjp.data-display-separator,.svelte-1q9pbjp .data-display-separator{display:none}.svelte-1q9pbjp.ep-comuni-wrapper,.svelte-1q9pbjp .ep-comuni-wrapper{flex-direction:column}}",P(n,document.head));var o=this;e.root||(this._oncreate=[]),this._fragment=function(r,e){for(var a,p,n,t=e.regioni,s=[],i=0;i<t.length;i+=1)s[i]=c(r,x(x({},e),{each_value:t,regione:t[i],regione_index:i}));var l=e.dataSource&&d(0,e);return{c:function(){a=T("div"),p=T("div");for(var e=0;e<s.length;e+=1)s[e].c();n=D(" \r\n   "),l&&l.c(),this.h()},h:function(){p.className="ep-comuni-wrapper",a.className="ep-comuni svelte-1q9pbjp"},m:function(e,t){L(a,e,t),P(p,a);for(var i=0;i<s.length;i+=1)s[i].m(p,null);r.refs.wrapper=p,P(n,a),l&&l.m(a,null)},p:function(e,t){var i=t.regioni;if(e.regioni||e.limit){for(var n=0;n<i.length;n+=1){var o=x(x({},t),{each_value:i,regione:i[n],regione_index:n});s[n]?s[n].p(e,o):(s[n]=c(r,o),s[n].c(),s[n].m(p,null))}for(;n<s.length;n+=1)s[n].u(),s[n].d();s.length=i.length}t.dataSource?l?l.p(e,t):((l=d(0,t)).c(),l.m(a,null)):l&&(l.u(),l.d(),l=null)},u:function(){B(a);for(var e=0;e<s.length;e+=1)s[e].u();l&&l.u()},d:function(){j(s),r.refs.wrapper===p&&(r.refs.wrapper=null),l&&l.d()}}}(this,this._state),this.root._oncreate.push(function(){(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")}).call(o),o.fire("update",{changed:{entiData:1,configList:1,limit:1,imagePath:1,regioni:1,dataSource:1},current:o._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),r(this._oncreate))}function T(e){return document.createElement(e)}function P(e,t){t.appendChild(e)}function x(e,t){for(var i in t)e[i]=t[i];return e}function D(e){return document.createTextNode(e)}function L(e,t,i){t.insertBefore(e,i)}function B(e){e.parentNode.removeChild(e)}function j(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function C(e,t,i){e.style.setProperty(t,i)}function u(){}function r(e){for(;e&&e.length;)e.shift()()}function i(e){this.destroy=u,this.fire("destroy"),!(this.set=this.get=u)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}return head.load(["https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"],function(){var e;if($("head").append('<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">'),768<=$(window).width()&&$(".ep-comuni-wrapper:not(.slick-initialized)").css("visibility","hidden"),null!=$("comuni").attr("data-show")){var t=parseInt($("comuni").attr("data-show"));e="number"==typeof t?3<=t?3:t:3}$(".ep-comuni-wrapper").slick({dots:!1,infinite:!(t<=2),speed:300,slidesToShow:e,slidesToScroll:e,variableWidth:t<=2,responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1,dots:!1,arrows:!1}}]}),768<=$(window).width()&&($(".ep-comuni-wrapper.slick-initialized").css("visibility","visible"),2==t?$(".ep-comuni-wrapper .slick-slide").css("max-width","350px"):1==t&&$(".ep-comuni-wrapper .slick-slide").css("width","21%")),$(window).width()<=768&&1==t&&$(".ep-comuni-wrapper .slick-slide").css("width","91vw"),$(window).width(),$(".ep-comuni-wrapper .slick-arrow").html("")}),x(t.prototype,{destroy:i,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var i=e in this._handlers&&this._handlers[e].slice();if(!i)return;for(var n=0;n<i.length;n+=1){var o=i[n];o.__calling||(o.__calling=!0,o.call(this,t),o.__calling=!1)}},observe:function(t,e,i){var n=e.bind(this);i&&!1===i.init||n(this.get()[t],void 0);return this.on(i&&i.defer?"update":"state",function(e){e.changed[t]&&n(e.current[t],e.previous&&e.previous[t])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var i=this._handlers[e]||(this._handlers[e]=[]);return i.push(t),{cancel:function(){var e=i.indexOf(t);~e&&i.splice(e,1)}}},set:function(e){if(this._set(x({},e)),this.root._lock)return;this.root._lock=!0,r(this.root._beforecreate),r(this.root._oncreate),r(this.root._aftercreate),this.root._lock=!1},teardown:i,_set:function(e){var t=this._state,i={},n=!1;for(var o in e)this._differs(e[o],t[o])&&(i[o]=n=!0);if(!n)return;this._state=x(x({},t),e),this._recompute(i,this._state),this._bind&&this._bind(i,this._state);this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:t}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:t}))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}}),x(t.prototype,e),t.prototype._recompute=function(e,t){var i,n,o,r;(e.entiData||e.configList||e.limit||e.imagePath)&&this._differs(t.regioni,t.regioni=(i=t.entiData,n=t.configList,o=t.limit,r=t.imagePath,i.map(function(e){return e.formattedFigures=e.liste.filter(function(e,t){return t<o}).map(function(e){if(e.name=null!=e.candidato?e.candidato.name:e.name,e.surname=null!=e.candidato?e.candidato.surname:e.surname,e.slug=null!=e.candidato?e.candidato.slug:e.slug,e.perc=e.percentuale.toString().replace(".",","),e.perc2=e.percent2?e.percent2.toString().replace(".",","):null,"'"==e.surname.slice(-1)){var t=e.surname.slice(0,e.surname.length-1);e.picture=r+t.toLowerCase().replace(" ","%20")+".jpg"}else e.picture=r+e.surname.toLowerCase().replace(" ","%20")+".jpg";return e.color=e.color?e.color:n[e.slug]?n[e.slug].color:"#fff",e.coalizione=n[e.slug]?n[e.slug].label:"",e}),e})))&&(e.regioni=!0)},t}();