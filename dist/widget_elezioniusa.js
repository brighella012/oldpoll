"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Widget=function(){function i(a,e,t){return[t].map(function(e){return(n=e)?Object.keys(n).map(function(t,e){return n[t].coalitions.forEach(function(e){n[t].votes=parseInt(n[t].votes)+parseInt(a[e])}),n[t]}):null;var n})}function o(a,e,t,n){return t.map(function(e,t){if(e){var n=function(e,t){var n;return e.perc=(n=e.votes,parseFloat((n/a*100).toFixed(2))),e.delay=50*t+"ms",e};return e.map(function(e,t){return n(e,t)})}})}function j(e,t){var n,a,i,o,s,r,l,d,c,f,h=t.candidate,p=(t.each_value,t.index,h.totalVotes),u=h.label,v=h.nameCoalition;return{c:function(){n=y("div"),a=y("span"),i=T(p),o=T("\r\n                  "),s=y("div"),r=y("h4"),l=T(u),d=T("\r\n                     "),c=y("h5"),f=T(v),this.h()},h:function(){m(a,"color",h.color+" "),s.className="candidate-desc",n.className="candidate-info"},m:function(e,t){P(n,e,t),N(a,n),N(i,a),N(o,n),N(s,n),N(r,s),N(l,r),N(d,s),N(c,s),N(f,c)},p:function(e,t){h=t.candidate,t.each_value,t.index,e.candidates&&p!==(p=h.totalVotes)&&(i.data=p),e.candidates&&m(a,"color",h.color+" "),e.candidates&&u!==(u=h.label)&&(l.data=u),e.candidates&&v!==(v=h.nameCoalition)&&(f.data=v)},u:function(){S(n)},d:g}}function w(n,e){var a,i=e.list,o=(e.each_value_1,e.index,0<i.votes&&r(n,e));return{c:function(){o&&o.c(),a=t()},m:function(e,t){o&&o.m(e,t),P(a,e,t)},p:function(e,t){i=t.list,t.each_value_1,t.index,0<i.votes?o?o.p(e,t):((o=r(n,t)).c(),o.m(a.parentNode,a)):o&&(o.u(),o.d(),o=null)},u:function(){o&&o.u(),S(a)},d:function(){o&&o.d()}}}function s(e,t){var n,a,i=t.list,o=(t.each_value_1,t.index,i.votes);return{c:function(){n=y("h4"),a=T(o)},m:function(e,t){P(n,e,t),N(a,n)},p:function(e,t){i=t.list,t.each_value_1,t.index,e.rawList&&o!==(o=i.votes)&&(a.data=o)},u:function(){S(n)},d:g}}function r(e,t){var n,a,i=t.list,o=(t.each_value_1,t.index,10<i.votes&&s(0,t));return{c:function(){n=y("div"),o&&o.c(),this.h()},h:function(){n.className=a="ep-horizontal-stacked-list box-"+i.label,m(n,"background",i.color),m(n,"width",i.perc+"%")},m:function(e,t){P(n,e,t),o&&o.m(n,null)},p:function(e,t){i=t.list,t.each_value_1,t.index,10<i.votes?o?o.p(e,t):((o=s(0,t)).c(),o.m(n,null)):o&&(o.u(),o.d(),o=null),e.rawList&&a!==(a="ep-horizontal-stacked-list box-"+i.label)&&(n.className=a),e.rawList&&(m(n,"background",i.color),m(n,"width",i.perc+"%"))},u:function(){S(n),o&&o.u()},d:function(){o&&o.d()}}}function q(n,e){var a,i,o,s=e.list,r=(e.each_value_2,e.index,"In vantaggio"==s.label&&0<s.votes&&c(n,e)),l="Da assegnare"==s.label&&0<s.votes&&f(n,e),d="In vantaggio"!=s.label&&"Da assegnare"!=s.label&&h(n,e);return{c:function(){r&&r.c(),a=T("\r\n\r\n                  "),l&&l.c(),i=T("\r\n\r\n                  "),d&&d.c(),o=t()},m:function(e,t){r&&r.m(e,t),P(a,e,t),l&&l.m(e,t),P(i,e,t),d&&d.m(e,t),P(o,e,t)},p:function(e,t){s=t.list,t.each_value_2,t.index,"In vantaggio"==s.label&&0<s.votes?r?r.p(e,t):((r=c(n,t)).c(),r.m(a.parentNode,a)):r&&(r.u(),r.d(),r=null),"Da assegnare"==s.label&&0<s.votes?l?l.p(e,t):((l=f(n,t)).c(),l.m(i.parentNode,i)):l&&(l.u(),l.d(),l=null),"In vantaggio"!=s.label&&"Da assegnare"!=s.label?d?d.p(e,t):((d=h(n,t)).c(),d.m(o.parentNode,o)):d&&(d.u(),d.d(),d=null)},u:function(){r&&r.u(),S(a),l&&l.u(),S(i),d&&d.u(),S(o)},d:function(){r&&r.d(),l&&l.d(),d&&d.d()}}}function c(e,t){var n,a,i,o,s,r,l,d,c=t.list,f=(t.each_value_2,t.index,c.label),h=c.votes;return{c:function(){n=y("div"),a=y("span"),i=T(f),o=T(" "),s=y("span"),r=T("("),l=T(h),d=T(")"),this.h()},h:function(){a.className="ep-legend-color",m(a,"background",c.color),s.className="ep-legened-votes",n.className="ep-legend-item"},m:function(e,t){P(n,e,t),N(a,n),N(i,n),N(o,n),N(s,n),N(r,s),N(l,s),N(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(a,"background",c.color),e.rawList&&f!==(f=c.label)&&(i.data=f),e.rawList&&h!==(h=c.votes)&&(l.data=h)},u:function(){S(n)},d:g}}function f(e,t){var n,a,i,o,s,r,l,d,c=t.list,f=(t.each_value_2,t.index,c.label),h=c.votes;return{c:function(){n=y("div"),a=y("span"),i=T(f),o=T(" "),s=y("span"),r=T("("),l=T(h),d=T(")"),this.h()},h:function(){a.className="ep-legend-color",m(a,"background",c.color),s.className="ep-legened-votes",n.className="ep-legend-item"},m:function(e,t){P(n,e,t),N(a,n),N(i,n),N(o,n),N(s,n),N(r,s),N(l,s),N(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(a,"background",c.color),e.rawList&&f!==(f=c.label)&&(i.data=f),e.rawList&&h!==(h=c.votes)&&(l.data=h)},u:function(){S(n)},d:g}}function h(e,t){var n,a,i,o,s,r,l,d,c=t.list,f=(t.each_value_2,t.index,c.label),h=c.votes;return{c:function(){n=y("div"),a=y("span"),i=T(f),o=T(" "),s=y("span"),r=T("("),l=T(h),d=T(")"),this.h()},h:function(){a.className="ep-legend-color",m(a,"background",c.color),s.className="ep-legened-votes",n.className="ep-legend-item"},m:function(e,t){P(n,e,t),N(a,n),N(i,n),N(o,n),N(s,n),N(r,s),N(l,s),N(d,s)},p:function(e,t){c=t.list,t.each_value_2,t.index,e.rawList&&m(a,"background",c.color),e.rawList&&f!==(f=c.label)&&(i.data=f),e.rawList&&h!==(h=c.votes)&&(l.data=h)},u:function(){S(n)},d:g}}function e(e){var t,n,a;n=e,(t=this)._handlers=Object.create(null),t._bind=n._bind,t.options=n,t.root=n.root||t,t.store=t.root.store||n.store,this._state=L({},e.data),this._recompute({candidates:1,info:1,threshold:1,coalitions:1,seats:1,rawList:1,hideAll:1},this._state),document.getElementById("svelte-1z0q3ej-style")||((a=y("style")).id="svelte-1z0q3ej-style",a.textContent='.svelte-1z0q3ej.ep-horizontal-stacked .candidates-wrapper,.svelte-1z0q3ej .ep-horizontal-stacked .candidates-wrapper{display:flex;flex-wrap:wrap;justify-content:space-between}.svelte-1z0q3ej.ep-horizontal-wrapper-link,.svelte-1z0q3ej .ep-horizontal-wrapper-link{display:block}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info{display:flex;flex-wrap:wrap;margin-bottom:-15px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info:last-of-type .candidate-desc,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info:last-of-type .candidate-desc{order:-1}.svelte-1z0q3ej.ep-stacked-source h4,.svelte-1z0q3ej .ep-stacked-source h4{color:rgb(67, 67, 67);font-family:"TT Norms Pro Thin",sans-serif;text-align:right;font-size:13px;font-weight:300}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info:last-of-type span,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info:last-of-type span{margin-right:0;margin-left:10px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info .candidate-desc,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info .candidate-desc{margin-top:9px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info h4,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info h4{font-family:"TT Norms Pro Bold",sans-serif;font-weight:bold;font-size:20px;margin-bottom:2px;padding-top:0;margin-top:0}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info h5,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info h5{font-family:"TT Norms Pro Regular",sans-serif;font-size:14px;margin-top:0;margin-bottom:0}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info span,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info span{font-size:50px;font-family:"TT Norms Pro Bold",sans-serif;font-weight:bold;margin-right:10px}.svelte-1z0q3ej.ep-horizontal-stacked-track,.svelte-1z0q3ej .ep-horizontal-stacked-track{position:relative;height:41px;margin:7px 0 1em;color:#fff;display:flex;background:#f2f2f2;justify-content:flex-start;align-items:stretch}.svelte-1z0q3ej.ep-horizontal-stacked-track.show-median:before,.svelte-1z0q3ej .ep-horizontal-stacked-track.show-median:before{content:\'\';position:absolute;top:0;left:50%;bottom:0;border:0;width:1px;background:black;margin-left:-1px;z-index:2}.svelte-1z0q3ej.ep-horizontal-stacked-track.show-median:after,.svelte-1z0q3ej .ep-horizontal-stacked-track.show-median:after{content:\'\';position:absolute;left:50%;bottom:-12px;width:0;height:0;border-style:solid;border-width:0 6px 8px 6px;border-color:transparent transparent black transparent;margin-left:-6px}.svelte-1z0q3ej.ep-horizontal-staked-median,.svelte-1z0q3ej .ep-horizontal-staked-median{display:inline-block;font-size:15px;color:rgb(67, 67, 67);font-family:"TT Norms Pro Regular",sans-serif;padding:0 6px;position:relative;left:50%;transform:translateX(-50%);z-index:2}.svelte-1z0q3ej.ep-horizontal-stacked-list,.svelte-1z0q3ej .ep-horizontal-stacked-list{display:flex;justify-content:center;align-items:center;text-align:center;width:0%;transition:width 0.25s ease-out;position:relative}.svelte-1z0q3ej.ep-horizontal-stacked-list h4,.svelte-1z0q3ej .ep-horizontal-stacked-list h4{font-weight:500;font-size:18px;text-shadow:0px 0px 5px rgba(0, 0, 0, 0.69);color:white;font-family:"TT Norms Pro Medium",sans-serif}.svelte-1z0q3ej.ep-legend,.svelte-1z0q3ej .ep-legend{display:flex;margin-top:20px;margin-bottom:15px;justify-content:center;flex-wrap:wrap;width:100%}.svelte-1z0q3ej.ep-legend .ep-legened-votes,.svelte-1z0q3ej .ep-legend .ep-legened-votes{font-weight:400;font-family:"TT Norms Pro Regular",sans-serif}.svelte-1z0q3ej.ep-legend-item,.svelte-1z0q3ej .ep-legend-item{display:inline-block;color:#33302e;font-family:"TT Norms Pro Medium",sans-serif;font-size:18px;font-weight:500;position:relative;padding-left:25px;margin-right:15px;margin-bottom:10px}.svelte-1z0q3ej.ep-legend-color,.svelte-1z0q3ej .ep-legend-color{display:inline-block;width:20px;height:20px;margin-right:5px;border-radius:50%;position:absolute;left:0;top:0}.svelte-1z0q3ej.box-Solid:first-of-type h4,.svelte-1z0q3ej .box-Solid:first-of-type h4{margin-right:auto;margin-left:15px}.svelte-1z0q3ej.box-Solid:last-of-type h4,.svelte-1z0q3ej .box-Solid:last-of-type h4{margin-left:auto;margin-right:15px}@media screen and (max-width: 600px){.svelte-1z0q3ej.ep-legend-item,.svelte-1z0q3ej .ep-legend-item{font-size:14px;padding-left:20px;margin-right:10px}.svelte-1z0q3ej.ep-legend-color,.svelte-1z0q3ej .ep-legend-color{width:15px;height:15px}.svelte-1z0q3ej.ep-horizontal-stacked-list h4,.svelte-1z0q3ej .ep-horizontal-stacked-list h4{font-size:12px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info .candidate-desc,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info .candidate-desc{margin-top:0}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info{margin-bottom:10px;margin-top:0;flex-direction:column}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info h4,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info h4{font-size:16px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info h5,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info h5{font-size:10px}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info span,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info span{font-size:20px;margin-right:0}.svelte-1z0q3ej.ep-horizontal-stacked .candidate-info:last-of-type span,.svelte-1z0q3ej .ep-horizontal-stacked .candidate-info:last-of-type span{margin-left:0;order:-1}}',N(a,document.head));var i=this;e.root||(this._oncreate=[]),this._fragment=function(d,e){for(var a,c,i,f,o,s,h,r,l,p,u,v,m,g=e.seats/2+1,t=e.candidates,z=[],n=0;n<t.length;n+=1)z[n]=j(0,L(L({},e),{each_value:t,candidate:t[n],index:n}));var _=e.rawList[0],x=[];for(n=0;n<_.length;n+=1)x[n]=w(d,L(L({},e),{each_value_1:_,list:_[n],index:n}));var b=e.rawList[0],k=[];for(n=0;n<b.length;n+=1)k[n]=q(d,L(L({},e),{each_value_2:b,list:b[n],index:n}));return{c:function(){a=y("div"),c=y("a"),i=y("div"),f=y("div");for(var e=0;e<z.length;e+=1)z[e].c();for(o=T("\r\n         "),s=y("div"),h=T(g),r=T(" per vincere"),l=T("\r\n         "),p=y("div"),e=0;e<x.length;e+=1)x[e].c();for(u=T("\r\n         \r\n         "),v=y("div"),m=y("div"),e=0;e<k.length;e+=1)k[e].c();this.h()},h:function(){f.className="candidates-wrapper",s.className="ep-horizontal-staked-median",p.className="ep-horizontal-stacked-track show-median",m.className="ep-legend",v.className="ep-stacked-dashboard",i.className="ep-horizontal-stacked",c.href=e.link,c.className="ep-horizontal-wrapper-link",a.className="ep-horizontal-wrapper ep-election-usa2020 svelte-1z0q3ej"},m:function(e,t){P(a,e,t),N(c,a),N(i,c),N(f,i);for(var n=0;n<z.length;n+=1)z[n].m(f,null);for(N(o,i),N(s,i),N(h,s),N(r,s),N(l,i),N(p,i),n=0;n<x.length;n+=1)x[n].m(p,null);for(N(u,i),N(v,i),N(m,v),n=0;n<k.length;n+=1)k[n].m(m,null)},p:function(e,t){var n=t.candidates;if(e.candidates){for(var a=0;a<n.length;a+=1){var i=L(L({},t),{each_value:n,candidate:n[a],index:a});z[a]?z[a].p(e,i):(z[a]=j(0,i),z[a].c(),z[a].m(f,null))}for(;a<z.length;a+=1)z[a].u(),z[a].d();z.length=n.length}e.seats&&g!==(g=t.seats/2+1)&&(h.data=g);var o=t.rawList[0];if(e.rawList){for(a=0;a<o.length;a+=1){var s=L(L({},t),{each_value_1:o,list:o[a],index:a});x[a]?x[a].p(e,s):(x[a]=w(d,s),x[a].c(),x[a].m(p,null))}for(;a<x.length;a+=1)x[a].u(),x[a].d();x.length=o.length}var r=t.rawList[0];if(e.rawList){for(a=0;a<r.length;a+=1){var l=L(L({},t),{each_value_2:r,list:r[a],index:a});k[a]?k[a].p(e,l):(k[a]=q(d,l),k[a].c(),k[a].m(m,null))}for(;a<k.length;a+=1)k[a].u(),k[a].d();k.length=r.length}e.link&&(c.href=t.link)},u:function(){S(a);for(var e=0;e<z.length;e+=1)z[e].u();for(e=0;e<x.length;e+=1)x[e].u();for(e=0;e<k.length;e+=1)k[e].u()},d:function(){I(z),I(x),I(k)}}}(this,this._state),this.root._oncreate.push(function(){(function(){setTimeout(function(){window.parent.postMessage({sentinel:"amp",type:"embed-size",height:document.body.scrollHeight},"*")},0)}).call(i),i.fire("update",{changed:{candidates:1,info:1,threshold:1,coalitions:1,seats:1,rawList:1,hideAll:1,link:1},current:i._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),l(this._oncreate))}function y(e){return document.createElement(e)}function N(e,t){t.appendChild(e)}function L(e,t){for(var n in t)e[n]=t[n];return e}function T(e){return document.createTextNode(e)}function P(e,t,n){t.insertBefore(e,n)}function S(e){e.parentNode.removeChild(e)}function I(e){for(var t=0;t<e.length;t+=1)e[t]&&e[t].d()}function m(e,t,n){e.style.setProperty(t,n)}function g(){}function t(){return document.createComment("")}function l(e){for(;e&&e.length;)e.shift()()}function n(e){this.destroy=g,this.fire("destroy"),!(this.set=this.get=g)!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}return L(e.prototype,{destroy:n,get:function(e){return e?this._state[e]:this._state},fire:function(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(!n)return;for(var a=0;a<n.length;a+=1){var i=n[a];i.__calling||(i.__calling=!0,i.call(this,t),i.__calling=!1)}},observe:function(t,e,n){var a=e.bind(this);n&&!1===n.init||a(this.get()[t],void 0);return this.on(n&&n.defer?"update":"state",function(e){e.changed[t]&&a(e.current[t],e.previous&&e.previous[t])})},on:function(e,t){if("teardown"===e)return this.on("destroy",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){if(this._set(L({},e)),this.root._lock)return;this.root._lock=!0,l(this.root._beforecreate),l(this.root._oncreate),l(this.root._aftercreate),this.root._lock=!1},teardown:n,_set:function(e){var t=this._state,n={},a=!1;for(var i in e)this._differs(e[i],t[i])&&(n[i]=a=!0);if(!a)return;this._state=L(L({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state);this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t}))},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_unmount:function(){this._fragment&&this._fragment.u()},_differs:function(e,t){return e!=e?t==t:e!==t||e&&"object"===(void 0===e?"undefined":_typeof(e))||"function"==typeof e}}),e.prototype._recompute=function(e,t){var n,a;(e.candidates||e.info)&&this._differs(t.candidates,t.candidates=(n=t.candidates,a=t.info,Object.keys(n).map(function(e,t){return null!=a[n[e].coalition]&&(n[e].totalVotes=a[n[e].coalition]),n[e]})))&&(e.candidates=!0),(e.info||e.threshold||e.coalitions)&&this._differs(t.rawList,t.rawList=i(t.info,t.threshold,t.coalitions))&&(e.rawList=!0),(e.seats||e.threshold||e.rawList||e.hideAll)&&this._differs(t.lists,t.lists=o(t.seats,t.threshold,t.rawList,t.hideAll))&&(e.lists=!0)},e}();